import{o as s,c as p,a as f,d as x,Z as z,ae as _e,af as J,k as B,E as V,ag as T,t as h,ah as H,T as he,_ as W,g,w as o,n as te,i as ne,u as e,ai as fe,h as L,B as Y,m as A,aj as me,e as l,l as E,ak as ge,al as $e,am as we,an as ye,ao as ve,ap as Ce,aq as xe,ar as Pe,b as m,r as j,$ as k,F,as as O,a8 as be,ac as N,at as Be,au as Me,av as Se,aw as Q,ax as ke,ad as ze,ay as Le,az as Oe,a0 as ee}from"./index-DuXo5Py1.js";import{C as Ae,l as Ge}from"./SystemDialog.vue_vue_type_script_setup_true_lang-DN4xaORd.js";const Fe="/Arcs-CAT/assets/board-2-CAuHClGw.jpg",Ee={xmlns:"http://www.w3.org/2000/svg",width:"996",height:"923"},De=f("path",{fill:"transparent",d:"M565.5 923c40.5-36 346.5-103.5 426-85.5L996 .5 0 2z"},null,-1),He=[De];function je(n,t){return s(),p("svg",Ee,[...He])}const Ie={render:je},Re={xmlns:"http://www.w3.org/2000/svg",width:"959",height:"937"},Ue=f("path",{fill:"transparent",d:"M.5 837.5c90-16.5 396 52.5 453 99L959 2 2 .5z"},null,-1),Te=[Ue];function Ve(n,t){return s(),p("svg",Re,[...Te])}const We={render:Ve},Ye={xmlns:"http://www.w3.org/2000/svg",width:"1678",height:"1100"},qe=f("path",{fill:"transparent",d:"M.5 939C41 942 200 1060.5 227 1099.5L1677.51 0H504.5z"},null,-1),Ne=[qe];function Xe(n,t){return s(),p("svg",Ye,[...Ne])}const Ke={render:Xe},Ze={xmlns:"http://www.w3.org/2000/svg",width:"1142",height:"596"},Je=f("path",{fill:"transparent",d:"M153 459.5c270-94.5 552-12 712.5 136.5l276-315C873-10 315-76 0 90.5z"},null,-1),Qe=[Je];function et(n,t){return s(),p("svg",Ze,[...Qe])}const tt={render:et},nt={xmlns:"http://www.w3.org/2000/svg",width:"1772",height:"1333"},st=f("path",{fill:"transparent",d:"M.13 1133.95c19.17-4.3 180.54 194.65 160.88 199.06L1771.22 707.2 1412.64.95z"},null,-1),ot=[st];function at(n,t){return s(),p("svg",nt,[...ot])}const it={render:at},lt={xmlns:"http://www.w3.org/2000/svg",width:"1601",height:"889"},rt=f("path",{fill:"transparent",d:"M0 620c34 42 74 194 74 268-.08 11.31 1525.86-209.02 1526.01-230l-4-658z"},null,-1),ct=[rt];function dt(n,t){return s(),p("svg",lt,[...ct])}const pt={render:dt},ut={xmlns:"http://www.w3.org/2000/svg",width:"1518",height:"654"},_t=f("path",{fill:"transparent",d:"m0 226 4 198c8.51-14.36 202.01 52 250.01 76l1238 154 26-654C1512.76 35.5-3.26 248.05 0 226"},null,-1),ht=[_t];function ft(n,t){return s(),p("svg",ut,[...ht])}const mt={render:ft},gt={xmlns:"http://www.w3.org/2000/svg",width:"597",height:"678"},$t=f("path",{fill:"transparent",d:"M348 0 0 226c66 28 188 362 152 430l134 22c60-50 299.14-37.12 306-22 26-230-68-556-244-656"},null,-1),wt=[$t];function yt(n,t){return s(),p("svg",gt,[...wt])}const vt={render:yt},Ct={xmlns:"http://www.w3.org/2000/svg",width:"1538",height:"819"},xt=f("path",{fill:"transparent",d:"M62.35 18.63C68.54 32.44 3.44 237.91.17 230.61l1526.3 587.9 11.3-668.45L322.4.26c.07 10.97-259.94 33.63-260.05 18.37"},null,-1),Pt=[xt];function bt(n,t){return s(),p("svg",Ct,[...Pt])}const Bt={render:bt},Mt={xmlns:"http://www.w3.org/2000/svg",width:"1722",height:"1325"},St=f("path",{fill:"transparent",d:"M172.76.61C185.38 11.55 9.75 263.15.34 254.99L1327.37 1324.8l394.3-727.81z"},null,-1),kt=[St];function zt(n,t){return s(),p("svg",Mt,[...kt])}const Lt={render:zt},Ot={xmlns:"http://www.w3.org/2000/svg",width:"1540",height:"1100"},At=f("path",{fill:"transparent",d:"M241.17.41C247.9 10.53 7.49 165.72.92 155.85l589.32 944.04 949.7-46.64z"},null,-1),Gt=[At];function Ft(n,t){return s(),p("svg",Ot,[...Gt])}const Et={render:Ft},Dt={xmlns:"http://www.w3.org/2000/svg",width:"715",height:"718"},Ht=f("path",{fill:"transparent",d:"M287.73.12C325.89 106.11 72.92 381.69.84 407.13L60.2 507.47c96.1-5.66 144.15 149.79 185.13 210.56C539.28 588.02 701.81 315.27 714.52 96.22c-.22 14.74-285.47-24.03-299.6-77.73z"},null,-1),jt=[Ht];function It(n,t){return s(),p("svg",Dt,[...jt])}const Rt={render:It},Ut={xmlns:"http://www.w3.org/2000/svg",width:"948",height:"867"},Tt=f("path",{fill:"transparent",d:"M433.1.27C424.62 32.78 47.29 110.51 3.48 80.83L.65 863.76l946.87 2.82z"},null,-1),Vt=[Tt];function Wt(n,t){return s(),p("svg",Ut,[...Vt])}const Yt={render:Wt},qt={xmlns:"http://www.w3.org/2000/svg",width:"907",height:"883"},Nt=f("path",{fill:"transparent",d:"M905.24 97.83C885.45 116.2 460.07 31.41 454.42.32L.77 868.04l905.88 14.13z"},null,-1),Xt=[Nt];function Kt(n,t){return s(),p("svg",qt,[...Xt])}const Zt={render:Kt},Jt={xmlns:"http://www.w3.org/2000/svg",width:"1534",height:"1090"},Qt=f("path",{fill:"transparent",d:"M1533.77 213.66c-36.75 8.48-247.32-176.64-269.93-213.38L.41 1013.55l1085.36 76.32z"},null,-1),en=[Qt];function tn(n,t){return s(),p("svg",Jt,[...en])}const nn={render:tn},sn={xmlns:"http://www.w3.org/2000/svg",width:"1168",height:"607"},on=f("path",{fill:"transparent",d:"M1018.02 143.13C931.81 234.99 338.25 155.85 259.11.39L120.62 99.32C151.71 157.26 20.28 273.14.49 287.28c244.49 340.57 871.96 392.86 1167.33 230.34-29.68-57.94-171-207.73-105.99-262.85z"},null,-1),an=[on];function ln(n,t){return s(),p("svg",sn,[...an])}const rn={render:ln},cn={xmlns:"http://www.w3.org/2000/svg",width:"1625",height:"1329"},dn=f("path",{fill:"transparent",d:"M1624.11 171.31c-3.45 16.97-138.61-156.52-135.67-171L.31 603.75l193.61 724.98z"},null,-1),pn=[dn];function un(n,t){return s(),p("svg",cn,[...pn])}const _n={render:un},hn={xmlns:"http://www.w3.org/2000/svg",width:"1492",height:"821"},fn=f("path",{fill:"transparent",d:"M1491.85 246.31c-12.56 6.09-84.79-230.36-87.62-245.9L.9 181.3l48.05 638.77z"},null,-1),mn=[fn];function gn(n,t){return s(),p("svg",hn,[...mn])}const $n={render:gn},wn={xmlns:"http://www.w3.org/2000/svg",width:"1432",height:"597"},yn=f("path",{fill:"transparent",d:"M1431.89 418.82c-10.34 1.6-17.4-199.52-9.9-200.68-42.39 2.83-254.38-29.68-319.39-80.55L7.35.5.29 596.89z"},null,-1),vn=[yn];function Cn(n,t){return s(),p("svg",wn,[...vn])}const xn={render:Cn},Pn={xmlns:"http://www.w3.org/2000/svg",width:"571",height:"629"},bn=f("path",{fill:"transparent",d:"M570.53 420.56c-63.6-39.57-155.46-329.28-125.78-402.77L314.73.83C224.28 50.3 40.56 27.69 2.41 14.97c-12.72 145.56 21.2 428.21 224.7 613.34 29.68-15.55 132.84-127.19 204.92-108.82z"},null,-1),Bn=[bn];function Mn(n,t){return s(),p("svg",Pn,[...Bn])}const Sn={render:Mn},kn={xmlns:"http://www.w3.org/2000/svg",width:"1432",height:"799"},zn=f("path",{fill:"transparent",d:"M1370.86 777.8c-9.38.35 54.91-210.35 60.77-210.57L.03.52l36.74 664.22L1065.6 799c46.64-40.98 223.29-36.74 305.26-21.2"},null,-1),Ln=[zn];function On(n,t){return s(),p("svg",kn,[...Ln])}const An={render:On},Gn={xmlns:"http://www.w3.org/2000/svg",width:"1695",height:"1280"},Fn=f("path",{fill:"transparent",d:"M1512.63 1279.82c-11.3-29.68 154.04-245.91 182.31-262.86L441.4.84.48 683.43z"},null,-1),En=[Fn];function Dn(n,t){return s(),p("svg",Gn,[...En])}const Hn={render:Dn},jn={xmlns:"http://www.w3.org/2000/svg",width:"1433",height:"1089"},In=f("path",{fill:"transparent",d:"M1200.35 1088.78c5.31-21.04 196.44-161.11 231.77-166.76L897.92.6.52 110.83z"},null,-1),Rn=[In];function Un(n,t){return s(),p("svg",jn,[...Rn])}const Tn={render:Un},Vn={xmlns:"http://www.w3.org/2000/svg",width:"755",height:"752"},Wn=f("path",{fill:"transparent",d:"M.04 648.04C25.47 448.78 214.85 119.49 489.01.78c107.41 33.92-72.07 189.37 180.9 183.72l84.79 141.32c-86.21 26.86-282.65 336.35-292.54 425.39l-130.02-18.38c11.31-40.98-285.47-77.72-332.1-84.79"},null,-1),Yn=[Wn];function qn(n,t){return s(),p("svg",Vn,[...Yn])}const Nn={render:qn},Xn={"1A":Ie,"1C":We,"1H":Ke,"1G":tt,"2A":it,"2C":pt,"2H":mt,"2G":vt,"3A":Bt,"3C":Lt,"3H":Et,"3G":Rt,"4A":Yt,"4C":Zt,"4H":nn,"4G":rn,"5A":_n,"5C":$n,"5H":xn,"5G":Sn,"6A":An,"6C":Hn,"6H":Tn,"6G":Nn},Kn=x({props:{position:{type:Object,required:!0,default(){return{x:0,y:0}}},systemConfig:{type:Object,required:!0}},emits:["click","mounted"],setup(n,{emit:t}){var $;const c=($=Xn[n.systemConfig.id])==null?void 0:$.render(),u=z(),a=z(),r=function(i){t("click",n.systemConfig.id,i)};return _e(()=>{t("mounted",{el:u.value,shape:a.value,bbox:a.value.getBoundingClientRect()})}),()=>{var i;return J(c.type,{...c.props,ref:u,style:{pointerEvents:"none",scale:n.systemConfig.scale,left:`${n.systemConfig.position.x}px`,top:`${n.systemConfig.position.y}px`,transformOrigin:"top left"},"data-system-id":n.systemConfig.id},(i=c.children)==null?void 0:i.map(w=>J(w.type,{ref:a,style:{pointerEvents:"all"},onClick:_=>{r(_)},...w.props})))}}}),Zn=["src"],Jn={x:"50%",y:"50%",textLength:"200",lengthAdjust:"spacingAndGlyphs","dominant-baseline":"middle","text-anchor":"middle"},Qn=x({__name:"GamePiece",props:{pieceConfig:{},scale:{},systemPosition:{}},setup(n){const t=n,c=B(()=>{var i,w,_,P;return t.pieceConfig.type===H?`/images/${(i=t.pieceConfig.color)==null?void 0:i.toLowerCase()}_ship.png`:Object.values(he).includes(t.pieceConfig.type)?`/images/${(w=t.pieceConfig.type)==null?void 0:w.toLowerCase()}${t.pieceConfig.isFlipped?"-flip":""}.png`:`/images/${(_=t.pieceConfig.color)==null?void 0:_.toLowerCase()}_${(P=t.pieceConfig.type)==null?void 0:P.toLowerCase()}${t.pieceConfig.isFlipped?"_flip":""}.png`}),u=B(()=>{let i=t.systemPosition?`translate(${t.systemPosition.x}px, ${t.systemPosition.y}px) scale(${t.scale??.4}) translate(${t.pieceConfig.position.x}px, ${t.pieceConfig.position.y}px)`:`translate(${t.pieceConfig.position.x}px, ${t.pieceConfig.position.y}px) scale(${t.scale??.4})`;return t.pieceConfig.type===H&&t.pieceConfig.isFlipped&&(i=`${i} translate(100%, 100%) rotate(180deg)`),i}),a=B(()=>({left:0,top:0,zIndex:t.pieceConfig.type===H?1:"auto",transformOrigin:"top left",transform:u.value})),r=z(!1);function $(){r.value=!0}return(i,w)=>r.value?(s(),p("svg",{key:1,class:"absolute fallback",style:T(a.value),width:"250",height:"250"},[f("text",Jn,h(i.pieceConfig.type),1)],4)):(s(),p("img",{key:0,class:V(["absolute",{damaged:i.pieceConfig.isFlipped}]),src:c.value,style:T(a.value),onError:$},null,46,Zn))}}),se=x({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:t}){const a=W(n,t);return(r,$)=>(s(),g(e(fe),te(ne(e(a))),{default:o(()=>[L(r.$slots,"default")]),_:3},16))}}),oe=x({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const c=Y(n);return(u,a)=>(s(),g(e(me),A({class:"outline-none"},e(c)),{default:o(()=>[L(u.$slots,"default")]),_:3},16))}}),ae=x({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(n,{emit:t}){const c=n,u=t,a=B(()=>{const{class:$,...i}=c;return i}),r=W(a,u);return($,i)=>(s(),g(e($e),null,{default:o(()=>[l(e(ge),A(e(r),{class:e(E)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",c.class)}),{default:o(()=>[L($.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),y=x({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(n){const t=n,c=B(()=>{const{class:a,...r}=t;return r}),u=Y(c);return(a,r)=>(s(),g(e(we),A(e(u),{class:e(E)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a.inset&&"pl-8",t.class)}),{default:o(()=>[L(a.$slots,"default")]),_:3},16,["class"]))}}),q=x({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,c=B(()=>{const{class:u,...a}=t;return a});return(u,a)=>(s(),g(e(ye),A(c.value,{class:e(E)("-mx-1 my-1 h-px bg-muted",t.class)}),null,16,["class"]))}}),ie=x({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(n){const t=n,c=B(()=>{const{class:a,...r}=t;return r}),u=Y(c);return(a,r)=>(s(),g(e(ve),A(e(u),{class:e(E)("px-2 py-1.5 text-sm font-semibold",a.inset&&"pl-8",t.class)}),{default:o(()=>[L(a.$slots,"default")]),_:3},16,["class"]))}}),I=x({__name:"DropdownMenuSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(n,{emit:t}){const a=W(n,t);return(r,$)=>(s(),g(e(Ce),te(ne(e(a))),{default:o(()=>[L(r.$slots,"default")]),_:3},16))}}),R=x({__name:"DropdownMenuSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(n){const t=n,c=B(()=>{const{class:a,...r}=t;return r}),u=Y(c);return(a,r)=>(s(),g(e(xe),A(e(u),{class:e(E)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t.class)}),{default:o(()=>[L(a.$slots,"default"),l(e(Ae),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),U=x({__name:"DropdownMenuSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const c=n,u=t,a=B(()=>{const{class:$,...i}=c;return i}),r=W(a,u);return($,i)=>(s(),g(e(Pe),A(e(r),{class:e(E)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",c.class)}),{default:o(()=>[L($.$slots,"default")]),_:3},16,["class"]))}}),es=x({__name:"GameBoardMenu",props:{activeSystem:{},isOpen:{type:Boolean},pointerPosition:{}},emits:["update","select","close"],setup(n,{emit:t}){const c=n,u=t,a=B(()=>({left:`${c.pointerPosition.x}px`,top:`${c.pointerPosition.y}px`}));function r(i){u("update",i)}function $(i,w){u("select",i,w)}return(i,w)=>(s(),g(e(se),{open:i.isOpen,"onUpdate:open":r},{default:o(()=>[l(e(oe),{class:"fixed dropdown-trigger",style:T(a.value)},null,8,["style"]),l(e(ae),null,{default:o(()=>[l(e(ie),null,{default:o(()=>[m(h(i.$t("system_id",{id:i.activeSystem})),1)]),_:1}),l(e(q)),l(e(I),null,{default:o(()=>[l(e(R),null,{default:o(()=>[m(h(i.$t("system_menu.add_ship")),1)]),_:1}),l(e(U),null,{default:o(()=>[(s(!0),p(F,null,j(e(k),_=>(s(),g(e(y),{key:_,class:V({hidden:_==e(k).free}),onSelect:P=>$(e(H),_)},{default:o(()=>[m(h(i.$t(`colors.${_}`)),1)]),_:2},1032,["class","onSelect"]))),128))]),_:1})]),_:1}),l(e(I),null,{default:o(()=>[l(e(R),null,{default:o(()=>[m(h(i.$t("system_menu.add_city")),1)]),_:1}),l(e(U),null,{default:o(()=>[(s(!0),p(F,null,j(e(k),_=>(s(),g(e(y),{key:_,class:V({hidden:_==e(k).empire}),onSelect:P=>$(e(O).city,_)},{default:o(()=>[m(h(i.$t(`colors.${_}`)),1)]),_:2},1032,["class","onSelect"]))),128))]),_:1})]),_:1}),l(e(I),null,{default:o(()=>[l(e(R),null,{default:o(()=>[m(h(i.$t("system_menu.add_starport")),1)]),_:1}),l(e(U),null,{default:o(()=>[(s(!0),p(F,null,j(e(k),_=>(s(),g(e(y),{key:_,class:V({hidden:_==e(k).empire}),onSelect:P=>$(e(O).starport,_)},{default:o(()=>[m(h(i.$t(`colors.${_}`)),1)]),_:2},1032,["class","onSelect"]))),128))]),_:1})]),_:1}),l(e(y),null,{default:o(()=>[m(h(i.$t("system_menu.add_token")),1)]),_:1}),l(e(q)),l(Ge,{"system-id":i.activeSystem,onConfirm:w[1]||(w[1]=_=>i.$emit("close"))},{default:o(()=>[l(e(y),{onSelect:w[0]||(w[0]=be(()=>{},["prevent"]))},{default:o(()=>[m(h(i.$t("system_menu.configure")),1)]),_:1})]),_:1},8,["system-id"])]),_:1})]),_:1},8,["open"]))}}),ts=N(es,[["__scopeId","data-v-508d92f5"]]),ns=x({__name:"GamePieceMenu",props:{activePiece:{},isOpen:{type:Boolean},pointerPosition:{}},emits:["update","select","remove","flip"],setup(n,{emit:t}){const c=n,u=t,{t:a}=Be(),r=B(()=>({left:`${c.pointerPosition.x}px`,top:`${c.pointerPosition.y}px`})),$=B(()=>{const d=a(`colors.${c.activePiece.color}`),v=a(`pieces.${c.activePiece.type}`),b=c.activePiece.color?`${d} ${v}`:v;return`${b.charAt(0).toUpperCase()}${b.slice(1).toLowerCase()}`});function i(d){u("update",d)}function w(d,v){u("select",d,v)}function _(){u("flip")}function P(){u("remove")}return(d,v)=>(s(),g(e(se),{open:d.isOpen,"onUpdate:open":i},{default:o(()=>[l(e(oe),{class:"fixed dropdown-trigger",style:T(r.value)},null,8,["style"]),l(e(ae),null,{default:o(()=>[l(e(ie),null,{default:o(()=>[m(h($.value),1)]),_:1}),l(e(q)),l(e(I),null,{default:o(()=>[l(e(R),null,{default:o(()=>[m(h(d.$t("piece_menu.change_color")),1)]),_:1}),l(e(U),null,{default:o(()=>[l(e(y),{onSelect:v[0]||(v[0]=b=>w(e(O).city,e(k).blue))},{default:o(()=>[m(h(d.$t("colors.BLUE")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.RED")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.WHITE")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.YELLOW")),1)]),_:1}),l(e(y),{onSelect:v[1]||(v[1]=b=>w(e(O).city,e(k).free))},{default:o(()=>[m(h(d.$t("colors.FREE")),1)]),_:1})]),_:1})]),_:1}),l(e(I),null,{default:o(()=>[l(e(R),null,{default:o(()=>[m(h(d.$t("piece_menu.change_token")),1)]),_:1}),l(e(U),null,{default:o(()=>[l(e(y),null,{default:o(()=>[m(h(d.$t("colors.BLUE")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.RED")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.WHITE")),1)]),_:1}),l(e(y),null,{default:o(()=>[m(h(d.$t("colors.YELLOW")),1)]),_:1}),l(e(y),{onSelect:v[2]||(v[2]=b=>w(e(O).starport,e(k).free))},{default:o(()=>[m(h(d.$t("colors.FREE")),1)]),_:1})]),_:1})]),_:1}),d.activePiece.type===e(O).city||d.activePiece.type===e(O).starport?(s(),g(e(y),{key:0,onSelect:_},{default:o(()=>[m(h(d.activePiece.isFlipped?d.$t("piece_menu.repair_building"):d.$t("piece_menu.damage_building")),1)]),_:1})):d.activePiece.type===e(H)?(s(),g(e(y),{key:1,onSelect:_},{default:o(()=>[m(h(d.activePiece.isFlipped?d.$t("piece_menu.repair_ship"):d.$t("piece_menu.damage_ship")),1)]),_:1})):(s(),g(e(y),{key:2,onSelect:_},{default:o(()=>[m(h(d.$t("piece_menu.flip")),1)]),_:1})),l(e(y),{onSelect:P},{default:o(()=>[m(h(d.$t("piece_menu.remove_piece")),1)]),_:1})]),_:1})]),_:1},8,["open"]))}}),ss=N(ns,[["__scopeId","data-v-d1d0a83e"]]),os=["src"],as=x({__name:"GameBoard",setup(n){const t=Me();t.pause();const{x:c,y:u}=Se({type:"movement",eventFilter:t.eventFilter}),a=Q({x:0,y:0}),r=Q({x:0,y:0}),$=B(()=>({width:"max-content",transform:`translate(${r.x}px, ${r.y}px)`})),{width:i,height:w}=ke(),_=z();ze([c,u],([M,S])=>{if(!_.value)return;const{width:C,height:D}=_.value.getBoundingClientRect(),K=C-i.value,Z=D-w.value+64;K+r.x<0&&(r.x=-K),r.x>0&&(r.x=0),Z+r.y<0&&(r.y=-Z),r.y>0&&(r.y=0),r.x+=M,r.y+=S});const P=z(!1),d=z(!1),v=z(null),b=z(null);function le(M,S){P.value||(a.x=S.clientX,a.y=S.clientY,v.value=M,P.value=!0)}function re(M){P.value=M}function ce(M){d.value=M}const G=Le();function de(M,S){a.x=S.clientX,a.y=S.clientY,b.value=M,d.value=!0}function X(M,S){v.value!==null&&G.addPiece(v.value,{type:M,color:S},{...a})}function pe(){b.value!==null&&G.removePiece(b.value)}function ue(){b.value!==null&&G.flipPiece(b.value)}return(M,S)=>(s(),p(F,null,[f("div",{ref_key:"wrapperEl",ref:_,id:"game-wrapper",class:"select-none",style:T($.value)},[f("img",{src:e(Fe),alt:"Arcs",class:"max-w-max",draggable:"false"},null,8,os),(s(!0),p(F,null,j(e(Oe),C=>(s(),g(e(Kn),{key:C.id,"system-config":C,position:C.position,class:"absolute system",draggable:"false",onClick:le,onMounted:D=>e(G).setSystemUi(C.id,D)},null,8,["system-config","position","onMounted"]))),128)),(s(!0),p(F,null,j(e(G).pieces,C=>(s(),g(Qn,{id:`${C.type}${C.color?`-${C.color}`:""}-${C.system}`,key:C.id,"piece-config":C,"system-position":e(G).systemUi(C.system,"position"),onClick:D=>de(C,D),draggable:"false"},null,8,["id","piece-config","system-position","onClick"]))),128))],4),v.value?(s(),g(ts,{key:0,"active-system":v.value,"is-open":P.value,"pointer-position":a,onSelect:X,onUpdate:re,onClose:S[0]||(S[0]=C=>P.value=!1)},null,8,["active-system","is-open","pointer-position"])):ee("",!0),b.value?(s(),g(ss,{key:1,"active-piece":b.value,"is-open":d.value,"pointer-position":a,onSelect:X,onRemove:pe,onFlip:ue,onUpdate:ce},null,8,["active-piece","is-open","pointer-position"])):ee("",!0)],64))}}),is={class:"relative viewport"},ls=x({__name:"CampaignView",setup(n){return(t,c)=>(s(),p("main",is,[l(as)]))}}),ds=N(ls,[["__scopeId","data-v-6cb69da6"]]);export{ds as default};
