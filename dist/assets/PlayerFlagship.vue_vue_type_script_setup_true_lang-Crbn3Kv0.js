import{f as N,d as C,_ as D,o as a,h as _,w as h,i as k,n as U,l as K,u as t,b0 as Z,B as G,m as B,b1 as q,g as y,e as x,j as M,b2 as J,b3 as Y,b4 as Q,b5 as X,b6 as ee,b7 as te,b8 as se,b9 as oe,aA as ae,aT as L,ba as ne,aa as b,$ as ie,c as d,bb as W,a as v,t as z,aW as F,F as w,T as H,aV as $,aU as R,aJ as re,aj as le,r as j}from"./index-D6ptrN7G.js";import{O as pe,n as ce,o as de,p as ue}from"./SystemDialog.vue_vue_type_script_setup_true_lang-B_Aiswa8.js";/**
 * @license lucide-vue-next v0.406.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=N("RedoIcon",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-vue-next v0.406.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=N("SparklesIcon",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),He=C({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:i}){const s=D(l,i);return(n,f)=>(a(),_(t(Z),U(K(t(s))),{default:h(()=>[k(n.$slots,"default")]),_:3},16))}}),Re=C({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(l){const e=G(l);return(c,s)=>(a(),_(t(q),B({class:"outline-none"},t(e)),{default:h(()=>[k(c.$slots,"default")]),_:3},16))}}),Ee=C({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(l,{emit:i}){const e=l,c=i,s=y(()=>{const{class:f,...p}=e;return p}),n=D(s,c);return(f,p)=>(a(),_(t(Y),null,{default:h(()=>[x(t(J),B(t(n),{class:t(M)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:h(()=>[k(f.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),Ne=C({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(l){const i=l,e=y(()=>{const{class:s,...n}=i;return n}),c=G(e);return(s,n)=>(a(),_(t(Q),B(t(c),{class:t(M)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s.inset&&"pl-8",i.class)}),{default:h(()=>[k(s.$slots,"default")]),_:3},16,["class"]))}}),Ue=C({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(l){const i=l,e=y(()=>{const{class:c,...s}=i;return s});return(c,s)=>(a(),_(t(X),B(e.value,{class:t(M)("-mx-1 my-1 h-px bg-muted",i.class)}),null,16,["class"]))}}),Ke=C({__name:"DropdownMenuLabel",props:{asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(l){const i=l,e=y(()=>{const{class:s,...n}=i;return n}),c=G(e);return(s,n)=>(a(),_(t(ee),B(t(c),{class:t(M)("px-2 py-1.5 text-sm font-semibold",s.inset&&"pl-8",i.class)}),{default:h(()=>[k(s.$slots,"default")]),_:3},16,["class"]))}}),me="/Arcs-CAT/images/board-flagship.jpg",ye=C({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(l,{emit:i}){const s=D(l,i);return(n,f)=>(a(),_(t(te),U(K(t(s))),{default:h(()=>[k(n.$slots,"default")]),_:3},16))}}),he=C({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(l,{emit:i}){const e=l,c=i,s=y(()=>{const{class:f,...p}=e;return p}),n=D(s,c);return(f,p)=>(a(),_(t(oe),null,{default:h(()=>[x(t(se),B({...t(n),...f.$attrs},{class:t(M)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:h(()=>[k(f.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_e=C({__name:"PlayerFlagshipPreview",props:{piece:{},pieceId:{}},emits:["close"],setup(l,{emit:i}){const e=l,c=i,s=ae(),n=y(()=>s.players.find(g=>g.color===e.piece.color)),f=y(()=>({position:"absolute",top:"224px",left:`${e.piece.position.x+112}px`}));function p(g){var u,o;if(!((u=n.value)!=null&&u.color))return;const r={...g,color:(o=n.value)==null?void 0:o.color};s.updatePlayer(r)}return(g,r)=>(a(),_(t(ye),{open:!0},{default:h(()=>[x(t(ne),{style:L(f.value)},null,8,["style"]),x(t(he),{class:"w-[484px] p-1"},{default:h(()=>[x(t(pe),{onTrigger:r[1]||(r[1]=u=>c("close"))},{default:h(()=>[n.value?(a(),_(Ge,{key:0,player:n.value,onUpdate:r[0]||(r[0]=u=>p({flagshipState:u}))},null,8,["player"])):b("",!0)]),_:1})]),_:1})]),_:1}))}}),Ce=["id"],ve=["src","width","draggable"],we=["data-src"],$e={x:"50%",y:"50%",textLength:"200",lengthAdjust:"spacingAndGlyphs","dominant-baseline":"middle","text-anchor":"middle"},be={key:2,class:"absolute flex items-center right-10 -bottom-6"},xe={class:"grid grid-flow-col px-4 py-2 bg-black shrink-0 rounded-xl"},ke={class:"mr-2 text-5xl"},Be={key:0,class:"h-[3rem]",src:ce,alt:"Arrow"},Pe={key:1,class:"h-[3rem]",src:de,alt:"Hex"},Ae={key:2,class:"h-[3rem]",src:ue,alt:"Moon"},Oe={key:3,class:"mr-2 text-5xl"},Se={key:0,class:"flex items-center px-4 py-2 ml-2 bg-black rounded-xl"},Me={class:"mr-2 text-5xl"},ze={key:1,class:"flex items-center px-4 py-2 ml-2 bg-black rounded-xl"},Fe={class:"mr-2 text-5xl"},Le=C({__name:"GamePiece",props:{pieceConfig:{},scale:{},systemPosition:{},translate:{type:Boolean},openPreview:{type:Boolean}},emits:["previewClose"],setup(l,{emit:i}){const e=l,c=i,s=y(()=>e.pieceConfig.color?`${e.pieceConfig.type}-${e.pieceConfig.color}-${e.pieceConfig.system}`:`${e.pieceConfig.type}-${e.pieceConfig.system}`),n=y(()=>{var o,m,P,A,O,S,T,V;return"group"in e.pieceConfig?Object.values(H).includes(e.pieceConfig.type)?`./images/${(o=e.pieceConfig.type)==null?void 0:o.toLowerCase()}.png`:`./images/${(m=e.pieceConfig.color)==null?void 0:m.toLowerCase()}_${(P=e.pieceConfig.type)==null?void 0:P.toLowerCase()}.png`:Object.values(H).includes(e.pieceConfig.type)?`./images/${(A=e.pieceConfig.type)==null?void 0:A.toLowerCase()}${e.pieceConfig.isFresh?"":"_flip"}.png`:F(e.pieceConfig.type)?`./images/${(O=e.pieceConfig.color)==null?void 0:O.toLowerCase()}_${(S=e.pieceConfig.type)==null?void 0:S.toLowerCase()}.png`:`./images/${(T=e.pieceConfig.color)==null?void 0:T.toLowerCase()}_${(V=e.pieceConfig.type)==null?void 0:V.toLowerCase()}${e.pieceConfig.isFresh?"":"_flip"}.png`}),f=y(()=>{const o={x:e.pieceConfig.position.x,y:e.pieceConfig.position.y};let m=`translate(${o.x}px, ${o.y}px) scale(${e.scale??.4})`;return Object.values($).includes(e.pieceConfig.type)||(m="translate(-50%, -50%) "+m),e.pieceConfig.type===R.ship&&"isFresh"in e.pieceConfig&&!e.pieceConfig.isFresh&&(m=`${m} translate(100%, 100%) rotate(180deg)`),m}),p=y(()=>({left:0,top:0,zIndex:e.pieceConfig.type===R.ship?1:"auto",transform:f.value})),g=y(()=>{if(e.pieceConfig.color===re.free)return 300;if(F(e.pieceConfig.type))return 332}),r=ie(!1);function u(){r.value=!0}return(o,m)=>{var P,A,O,S;return a(),d("div",{id:s.value,class:"absolute",style:L(p.value)},[r.value?(a(),d("svg",{key:1,class:"absolute fallback",width:"250",height:"250","data-src":n.value},[v("text",$e,z(o.pieceConfig.type),1)],8,we)):(a(),d("img",{key:0,src:n.value,width:g.value,draggable:!t(W)(o.pieceConfig.type),onError:u},null,40,ve)),t(W)(o.pieceConfig.type)?b("",!0):(a(),d("div",be,[v("div",xe,[v("span",ke,z((P=o.pieceConfig.system)==null?void 0:P.charAt(0)),1),((A=o.pieceConfig.system)==null?void 0:A.charAt(1))==="A"?(a(),d("img",Be)):((O=o.pieceConfig.system)==null?void 0:O.charAt(1))==="H"?(a(),d("img",Pe)):((S=o.pieceConfig.system)==null?void 0:S.charAt(1))==="C"?(a(),d("img",Ae)):(a(),d("span",Oe," G "))]),"group"in o.pieceConfig&&!t(F)(o.pieceConfig.type)?(a(),d(w,{key:0},[o.pieceConfig.group.damaged.length>0?(a(),d("div",Se,[v("span",Me,z(o.pieceConfig.group.damaged.length),1),x(t(fe),{size:40})])):b("",!0),o.pieceConfig.group.fresh.length>0?(a(),d("div",ze,[v("span",Fe,z(o.pieceConfig.group.fresh.length),1),x(t(ge),{size:40})])):b("",!0)],64)):b("",!0)])),t(F)(o.pieceConfig.type)&&o.openPreview?(a(),_(_e,{key:3,piece:o.pieceConfig,"piece-id":s.value,onClose:m[0]||(m[0]=T=>c("previewClose"))},null,8,["piece","piece-id"])):b("",!0)],12,Ce)}}}),I={slipstreamDrive:{upgrade:{x:-80,y:25},armor:{x:-79,y:-86}},tractorBeam:{upgrade:{x:51,y:25},armor:{x:51,y:-86}},controlArray:{upgrade:{x:182,y:25},armor:{x:182,y:-86}},defenseArray:{upgrade:{x:483,y:25},armor:{x:483,y:-86}},shipCrane:{upgrade:{x:614,y:25},armor:{x:614,y:-86}},hull:{upgrade:{x:745,y:25},armor:{x:745,y:-86}}},E="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='300'%20height='300'%20viewBox='0%200%20300%20300'%3e%3cpath%20fill='transparent'%20d='M%20147.00,10.44%20C%20166.49,8.37%20174.03,22.50%20182.28,37.00%20182.28,37.00%20193.80,57.00%20193.80,57.00%20193.80,57.00%20221.42,105.00%20221.42,105.00%20221.42,105.00%20271.72,192.00%20271.72,192.00%20271.72,192.00%20289.01,222.00%20289.01,222.00%20294.34,231.08%20299.41,237.99%20298.96,249.00%20298.27,265.99%20285.22,275.97%20269.00,275.92%20269.00,275.92%2062.00,275.92%2062.00,275.92%2062.00,275.92%2040.00,275.92%2040.00,275.92%2040.00,275.92%2024.00,275.92%2024.00,275.92%2013.52,273.91%205.34,266.00%202.22,256.00%201.18,252.68%200.90,249.46%201.04,246.00%201.40,236.97%206.55,229.55%2010.99,222.00%2010.99,222.00%2030.00,189.00%2030.00,189.00%2030.00,189.00%20103.85,61.00%20103.85,61.00%20103.85,61.00%20120.01,33.00%20120.01,33.00%20123.04,27.84%20126.56,21.21%20131.04,17.33%20136.12,12.93%20140.61,11.63%20147.00,10.44%20Z'%20/%3e%3c/svg%3e",De={class:"relative w-full overflow-auto flagship-wrapper"},Te=v("div",{class:"w-[967px]"},[v("img",{src:me})],-1),je=["src","onClick"],Ie=["src","onClick"],Ge=C({__name:"PlayerFlagship",props:{player:{},offset:{default:()=>({x:0,y:0})}},emits:["update"],setup(l,{emit:i}){const e=l,c=i;let s={};const n={position:"absolute",scale:.35};function f(p,g){s[g]??(s[g]={});const r=s[g][p];r===void 0?s[g][p]=[$.city,!0]:r[0]===$.city?s[g][p]=r[1]===!0?[$.city,!1]:[$.starport,!0]:r[0]===$.starport&&(s[g][p]=r[1]===!0?[$.starport,!1]:void 0),c("update",s)}return le(()=>e.player.flagshipState,p=>{s={...p??{}}},{immediate:!0}),(p,g)=>(a(),d("div",De,[Te,(a(!0),d(w,null,j(p.player.flagshipState,(r,u)=>(a(),d(w,{key:u},[(a(!0),d(w,null,j(r,(o,m)=>(a(),d(w,{key:`${u}-${m}`},[o?(a(),_(Le,{key:0,scale:.35,"piece-config":{type:o[0],isFresh:o[1],color:p.player.color,position:{x:t(I)[u][m].x+p.offset.x,y:t(I)[u][m].y+p.offset.y}}},null,8,["piece-config"])):b("",!0)],64))),128))],64))),128)),(a(!0),d(w,null,j(t(I),(r,u)=>(a(),d(w,{key:u},[v("img",{style:L({...n,top:`${r.upgrade.y}px`,left:`${r.upgrade.x}px`}),src:t(E),onClick:o=>f("upgrade",u)},null,12,je),v("img",{style:L({...n,top:`${r.armor.y}px`,left:`${r.armor.x}px`}),src:t(E),onClick:o=>f("armor",u)},null,12,Ie)],64))),128))]))}});export{fe as R,ge as S,he as _,ye as a,Re as b,Ee as c,Ke as d,Ue as e,Ne as f,He as g,Ge as h,Le as i};
